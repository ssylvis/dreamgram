- @title = t('.title')
- mode = params[:edit] && @dreams.present? ? :editing : :listing

- content_for :header do
  .buttons
    - case mode
    - when :editing
      = link_to t('.done'), dreams_path, :class => 'btn-link done'
    - when :listing
      - if @dreams.present?
        - edit_options = params.merge(:edit => true)
        = link_to dreams_path(edit_options), :class => 'edit' do
          %span.fa-stack
            %i.fa.fa-circle.fa-stack-2x
            %i.fa.fa-pencil.fa-inverse.fa-stack-1x
      - unless @reached_dreams_limit
        = link_to new_dream_path, :class => 'new' do
          %i.fa.fa-plus-circle.fa-2x

- if flash[:warning].present?
  .alert.alert-warning
    = flash[:warning]

%section.dreams.row
  .col-xs-12
    - if @dreams.present?
      = render :partial => 'dream', :collection => @dreams, :locals => {:mode => mode}
    - else
      .alert.alert-info.text-center
        - add_link = link_to t('.adding_dream'), new_dream_path, :class => 'alert-link'
        = raw t('.no_dreams', :link => add_link)
